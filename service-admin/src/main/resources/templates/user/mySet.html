<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<title>Bootstrap 101 Template</title>

		<link rel="stylesheet" href="../../static/css/bootstrap.min.css" />
		<link rel="stylesheet" href="../../static/css/bootstrap-datetimepicker.min.css" />
		<link rel="stylesheet" href="../../static/css/mySet.css" />
		<script type="text/javascript" src="../../static/js/jquery.min.js"></script>
		<script type="text/javascript" src="../../static/js/bootstrap.min.js"></script>

		<link rel="stylesheet" th:href="@{css/bootstrap.min.css}" />
		<!--<link rel="stylesheet" th:href="@{css/bootstrap-datetimepicker.min.css}" />-->
		<link rel="stylesheet" th:href="@{css/mySet.css}" />
		<script type="text/javascript" th:src="@{js/jquery.min.js}"></script>
		<script type="text/javascript" th:src="@{js/bootstrap.min.js}"></script>

	</head>



	<body>
		<div style="background-color: gainsboro;">
		    <div class="container myset">
			<form class="form-horizontal" action="/edit" th:action="@{/edit}" >
                <!--<input type="hidden" name="userId" th:value="*(userId)">-->

				<div class="form-group" id="perSet">
					<label for="inputNickName" class="col-md-2 control-label">
						<h4>个人设置</h4>
					</label>
					
				</div>

				<div >
					<div class="form-group">
                        <label for="inputNickName" class="col-md-2 control-label">昵称：</label>
                        <div class="col-md-4">
                            <input type="text" class="form-control" id="inputNickName" name="nickName" placeholder="nickName" th:value="${user.userNickname}"/>
                        </div>
                    </div>
				</div>
				
				<div class="form-group">
					<label for="inputDes" class="col-md-2 control-label">介绍：</label>
					<div class="col-md-4">	
						<textarea class="form-control" name="desc" rows="6" th:text="${user.desc}"></textarea>
					</div>
					<!--<label for="inputDes" class="col-md-2 control-label">介绍：</label>-->
					<!--<input type="image" src="../static/3ca75ef082025aaf0d356829f0edab64024f1a05.jpg" 
						class="form-control col-md-3 perPic"/>-->
						
					<div class="col-md-offset-1"><!-- th:src="*{pic}"-->
						<div><img src="../../static/img/perpic_03.jpg" th:src="${user.pic}" class="perPic" id="perPic" style="height: 125px;"/></div>
                            <div align="center">
                                <span class="btn btn-success fileinput-button">
                                    <span>更换头像</span>
                                    <input type="file" id="file" name="pic" onchange="onInputFileChange()" th:value="${user.pic}">
                                </span>
                            </div>
                    </div>
				</div>		
					
				<div class="form-group">
					<!--<label class="col-md-2">性别：</label>-->
					<label class="col-md-2 control-label">性别：</label>
					<div class="col-md-4">
						<label class="radio-inline">
  							<input type="radio" name="gender" id="inlineRadio1" value="1" th:value="${user.gender}" > 男
						</label>
						<label class="radio-inline" th:selected="${user.gender}">
	  						<input type="radio" name="gender" id="inlineRadio1" value="0"> 女
						</label>
						<label class="radio-inline" th:selected="${user.gender}">
	  						<input type="radio" name="gender" id="inlineRadio1" value="2"> 保密
						</label>
					</div>
				</div>
				
				<div class="form-group">
		            <label for="birth" class="col-md-2 control-label">生日：</label>
	                <div class="col-md-4">
		                <input type="text"  name="birth" class="form-control" placeholder="2001-3-8"
                               th:value="${user.birth}"><!--id="birth"-->
		            </div>
   				</div>
   				
   				<div class="form-group">
	                <label for="area" class="col-md-2 control-label">地区：</label>
	                <div class="col-md-4">
	                	<input type="text" id="area" name="addr" class="form-control"
                               placeholder="具体到省市，若是直辖市直接填市名即可" th:value="${user.addr}">
	                </div>
   				</div>
   				
   				<!-- 提交 -->
   				<div class="form-group">
					<label for="buttonSave" class="col-md-2 control-label"></label>
					<div class="col-md-7">	
						<button type="submit" class="btn btn-default" id="buttonSave">保存</button>
					</div>
					
				</div>

            </form>
		</div>

        </div>
	</body>
    <script>
        function onInputFileChange() {
            var file = document.getElementById('file').files[0];
            var url = URL.createObjectURL(file);
            console.log(url);
            document.getElementById("perPic").src = url;
        }

        if ($('input:radio').val() == 1) {
            $('input:radio').eq(0).attr('checked', 'true');
        }else {
            $('input:radio').eq(1).attr('checked', 'true');
        }


        /*function saveMody() {
            alert("开始执行ajax（）");
            var params = {
                nickName: $("#inputNickName").val(),
                birth: $("#birth").val(),
            };
            $.ajax({
                type: "post",
                url: "@{/edit}",
                data: JSON.stringify(params),
                dataType: 'json',
                contentType: 'application/json;charset=UTF-8',
                success: function (r) {
                    alert("ajax请求后台成功返回")

                }
            })
        }*/


    </script>

</html>